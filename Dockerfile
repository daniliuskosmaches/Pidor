# ====================================================================
# ИСПОЛЬЗУЕМ: Легкий и производительный образ Nginx
# ====================================================================
FROM nginx:alpine

# ====================================================================
# ЭТАП 1: НАСТРОЙКА
# ====================================================================

# Удаляем стандартный конфиг Nginx
RUN rm -rf /etc/nginx/conf.d/default.conf

# Копируем наш файл конфигурации nginx.conf
# (который содержит настройки проксирования на внешний бэкенд)
COPY nginx.conf /etc/nginx/conf.d/default.conf

# ====================================================================
# ЭТАП 2: КОПИРОВАНИЕ ФАЙЛОВ
# ====================================================================

# Указываем рабочую директорию Nginx для статических файлов
WORKDIR /usr/share/nginx/html

# Копируем все ваши статические файлы в корень сайта
COPY index(1).html .
COPY styles.css .
COPY script(1).js .
COPY package.json .

# ПРИМЕЧАНИЕ: Если у вас есть папка с картинками (например, 'images'),
# раскомментируйте следующую строку, чтобы скопировать её:
# COPY images/ images/

# ====================================================================
# ЭТАП 3: ЗАПУСК
# ====================================================================

# Выставляем порт, на котором Nginx будет слушать входящие соединения
EXPOSE 80

# Nginx запустится автоматически при старте контейнера